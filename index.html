<!DOCTYPE html> <html lang="ja"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>sippofull - レイオハナお問合せ対応</title> <!-- React --> <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script> <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script> <!-- Babel --> <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script> <!-- Tailwind --> <script src="https://cdn.tailwindcss.com"></script> <!-- Icons --> <script src="https://unpkg.com/lucide@latest"></script> <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap" rel="stylesheet"> <style> body{ font-family:'Zen Maru Gothic',sans-serif; background:#fdfbf7; margin:0; } .custom-scroll::-webkit-scrollbar{width:6px;}.custom-scroll::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px;}@keyframes slideUp{ from{transform:translateY(20px);opacity:0;}to{transform:translateY(0);opacity:1;}} .animate-slide-up{animation:slideUp .3s ease-out forwards;} </style> </head> <body> <div id="root"></div> <script type="text/babel"> const {useState,useEffect,useRef}=React;/* ============================ 重要： GitHub公開時はAPIキーを直書きしないのが安全です。 動作確認だけならここに入れてOK。 ============================ */ const apiKey=""; const MODEL_NAME="gemini-2.5-flash-preview-09-2025";const PET_TYPES=[ {id:'dog',label:'わんちゃん'}, {id:'cat',label:'ねこちゃん'} ]; function App(){ const [step,setStep]=useState(1); const [messages,setMessages]=useState([]);const [showWizard,setShowWizard]=useState(true);const messagesEndRef=useRef(null); useEffect(()=>{ if(window.lucide){window.lucide.createIcons();}messagesEndRef.current?.scrollIntoView({behavior:"smooth"});},[messages,step]); async function askAI(){ if(!apiKey){ // API未設定時の仮表示 setMessages([ {role:'model',text:'※APIキー未設定です。index.html の apiKey にキーを入れてください。'} ]); setShowWizard(false); return; } try{ const res=await fetch( `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${apiKey}`, { method:'POST', headers:{'Content-Type':'application/json'},body:JSON.stringify({ contents:[ {parts:[{text:'犬の食べムラ対策を教えて'}]}] }) }); const data=await res.json(); const text=data?.candidates?.[0]?.content?.parts?.[0]?.text||"回答取得失敗"; setMessages([{role:'model',text}]);set
